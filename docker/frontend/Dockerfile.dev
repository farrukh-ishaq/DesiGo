FROM node:18-alpine

WORKDIR /workspace

# Copy only manifests for dependency installation
COPY package.json yarn.lock ./
COPY src/frontend/package.json ./src/frontend/

# Install workspace dependencies
RUN yarn install

# Rely on mounted volumes for source code
EXPOSE 3000

CMD ["yarn", "workspace", "@desigo/frontend", "dev"]
